<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:1,&quot;tests&quot;:14,&quot;passes&quot;:14,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2024-10-28T12:11:18.513Z&quot;,&quot;end&quot;:&quot;2024-10-28T12:11:50.834Z&quot;,&quot;duration&quot;:32321,&quot;testsRegistered&quot;:14,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;81be1efb-118d-4d47-a64b-6dc263f1c597&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\anmol.dhama\\Desktop\\Api-Automation\\test-internal-apis\\bulk_order_creation.js&quot;,&quot;file&quot;:&quot;\\test-internal-apis\\bulk_order_creation.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;31598a28-82dc-4493-ac94-f75f4922fcee&quot;,&quot;title&quot;:&quot;Create Order API&quot;,&quot;fullFile&quot;:&quot;C:\\Users\\anmol.dhama\\Desktop\\Api-Automation\\test-internal-apis\\bulk_order_creation.js&quot;,&quot;file&quot;:&quot;\\test-internal-apis\\bulk_order_creation.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should generate an login token&quot;,&quot;fullTitle&quot;:&quot;Create Order API should generate an login token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:584,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const payload = JSON.parse(seller_portal_login_Payload());\n        \n        console.log(payload);\n        const response = await loginToSellerPortal(payload);\n        console.log(response.data);\n        //store login token\n        logintoken = response.data.token;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58474822-6af7-4b0a-9200-b0004c950559&quot;,&quot;parentUUID&quot;:&quot;31598a28-82dc-4493-ac94-f75f4922fcee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create orders in bulk&quot;,&quot;fullTitle&quot;:&quot;Create Order API should create orders in bulk&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:753,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const form = bulk_order_create();\n\ntry {\n  const response = await axios.post(&#x27;https://uatapi.rapidshyp.com/session/orders/batch_orders&#x27;, form, {\n    headers: {\n      &#x27;Authorization&#x27;: `Bearer ${logintoken}`,\n      ...form.getHeaders(),\n    },\n  });\n      \n  console.log(&#x27;Response:&#x27;, response.data);\n\n  const msg = &#x27;Bulk orders processed, please check the status of the orders.&#x27;;\n  const expectedAssertions = await getExpectedAssertionsInternalBulkActions(msg);\n// Validate the response for the current payload and assertions\nvalidateBulkOrderResponse(response.data, expectedAssertions);\n      } catch (error) {\nconsole.error(`Error in payload`, error.response ? error.response.data : error.message);\nif (error.response) {\n  expect.fail(`API request failed for payload with status: ${error.response.status}, data: ${JSON.stringify(error.response.data)}`);\n} else {\n  expect.fail(`Unexpected error at payload: ${error.message}`);\n}\n      }&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;433a19f2-dfa2-4ea7-bdd3-706935dc8827&quot;,&quot;parentUUID&quot;:&quot;31598a28-82dc-4493-ac94-f75f4922fcee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should validate all the orders&quot;,&quot;fullTitle&quot;:&quot;Create Order API should validate all the orders&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10488,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await delay(10000);\n     const url = `https://uatapi.rapidshyp.com/session/orders/get_orders?page_no=0&amp;order_status=APPROVAL_PENDING&amp;date_filter=2024-09-28_2024-10-28&amp;records_per_page=100`;\n        \n    const headers = {\n        &#x27;Authorization&#x27;: `Bearer ${logintoken}`,\n        &#x27;Content-Type&#x27;: &#x27;application/json&#x27;\n    };\n    try {\n      const apiOrders = await axios.get(url, { headers });\n      const arrRecords = mapAPIOrders(apiOrders.data.records);\n      console.log(&#x27;Records from API:&#x27;, arrRecords[0].order_id);\n  \n      const excelData = await FetchExcelData(\&quot;C:/Users/anmol.dhama/Downloads/sample_bulk_order_creation (4).csv\&quot;);\n      const arr = mapExcelOrders(excelData.validData);\n      const order_status = \&quot;APPROVAL_PENDING\&quot;;\n  \n      arr.forEach(excelOrder =&gt; {\n          const found = compareOrders(arrRecords, excelOrder);\n  \n          if (found) {\n              order_ids_for_approval.push(found.order_id);\n              console.log(&#x27;Order Matched Approval Pending Tab:&#x27;, excelOrder.seller_order_id);\n          } else {\n              console.log(&#x27;Order not matched Approval Pending Tab:&#x27;, excelOrder.seller_order_id);\n          }\n      });\n  \n      console.log(\&quot;Order IDs for Approval:\&quot;, order_ids_for_approval);\n  \n  } catch (error) {\n      console.error(&#x27;Error fetching data or comparing orders:&#x27;, error);\n  }&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd0bbadd-034a-4384-8a8b-3c14c0817538&quot;,&quot;parentUUID&quot;:&quot;31598a28-82dc-4493-ac94-f75f4922fcee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should approve the orders in bulk using approve order api&quot;,&quot;fullTitle&quot;:&quot;Create Order API should approve the orders in bulk using approve order api&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:139,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const payload = {\&quot;order_ids\&quot;:order_ids_for_approval,\&quot;approve_all_orders\&quot;:false,\&quot;order_status\&quot;:\&quot;APPROVAL_PENDING\&quot;,\&quot;date_filter\&quot;:\&quot;2024-09-28_2024-10-28\&quot;,\&quot;order_id\&quot;:\&quot;\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;email\&quot;:\&quot;\&quot;,\&quot;phone\&quot;:\&quot;\&quot;,\&quot;payment\&quot;:\&quot;\&quot;,\&quot;sku\&quot;:\&quot;\&quot;,\&quot;product_name\&quot;:\&quot;\&quot;,\&quot;pickup_address_name\&quot;:\&quot;\&quot;}\ntry {\n  const response = await axios.post(&#x27;https://uatapi.rapidshyp.com/session/sellers/approve_pending_orders&#x27;, payload, {\n    headers: {\n      &#x27;Authorization&#x27;: `Bearer ${logintoken}`\n    },\n  });\n    \n  console.log(&#x27;Approval Response:&#x27;, response.data);\n\n     const msg = &#x27;Order approval is in progress, please visit to activity logs for check status.&#x27;;\n     const expectedAssertions = await getExpectedAssertionsInternalBulkActions(msg);\n// Validate the response for the current payload and assertions\nvalidateBulkOrderResponse(response.data, expectedAssertions);\n    } catch (error) {\nconsole.error(`Error in payload`, error.response ? error.response.data : error.message);\nif (error.response) {\n  expect.fail(`API request failed for payload with status: ${error.response.status}, data: ${JSON.stringify(error.response.data)}`);\n} else {\n  expect.fail(`Unexpected error at payload: ${error.message}`);\n}\n    }&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e8a5285e-f0c2-4604-a655-67469d81d4db&quot;,&quot;parentUUID&quot;:&quot;31598a28-82dc-4493-ac94-f75f4922fcee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should validate the approved orders inside the processing tab&quot;,&quot;fullTitle&quot;:&quot;Create Order API should validate the approved orders inside the processing tab&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2524,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await delay(2000);\n\nconst url = `https://uatapi.rapidshyp.com/session/orders/get_orders?page_no=0&amp;order_status=PROCESSING&amp;date_filter=2024-09-28_2024-10-28&amp;records_per_page=100`;\n  \nconst headers = {\n    &#x27;Authorization&#x27;: `Bearer ${logintoken}`,\n    &#x27;Content-Type&#x27;: &#x27;application/json&#x27;\n};\n  \ntry {\n  const apiOrders = await axios.get(url, { headers });\n  const arrRecords = apiOrders.data.records;\n    \n  const apiOrderIds = new Set(arrRecords.map(apiOrder =&gt; apiOrder.order_id));\n    \n  order_ids_for_approval.forEach(orderId =&gt; {\n      if (apiOrderIds.has(orderId)) {\n          console.log(&#x27;Order Matched Processing Tab:&#x27;, orderId);\n      } else {\n          console.log(&#x27;Order not matched Processing Tab:&#x27;, orderId);\n      }\n  });\n    \n    } catch (error) {\n  console.error(&#x27;Error fetching data or comparing orders:&#x27;, error);\n    }&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;baab03ec-b750-4006-9f43-8ac4a6dfe0ad&quot;,&quot;parentUUID&quot;:&quot;31598a28-82dc-4493-ac94-f75f4922fcee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should validate the shipment created inside created tab&quot;,&quot;fullTitle&quot;:&quot;Create Order API should validate the shipment created inside created tab&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:395,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const url = `https://uatapi.rapidshyp.com/session/shipment/fetch_shipment?page_no=0&amp;shipment_order_status=CREATED&amp;date_filter=2024-07-28_2024-10-28&amp;records_per_page=100&amp;sort_by_field=LUT&amp;sorting_order=DESCENDING`;\n        \n      const headers = {\n          &#x27;Authorization&#x27;: `Bearer ${logintoken}`,\n          &#x27;Content-Type&#x27;: &#x27;application/json&#x27;\n      };\n  \n      try {\n        const apiOrders = await axios.get(url, { headers });\n        const arrRecords = apiOrders.data.records;\n    \n        const apiOrderIds = new Set(arrRecords.map(apiOrder =&gt; apiOrder.order_id));\n    \n        order_ids_for_approval.forEach(orderId =&gt; {\n            if (apiOrderIds.has(orderId)) {\n              \n                const matchedOrder = arrRecords.find(apiOrder =&gt; apiOrder.order_id === orderId);\n                \n                if (matchedOrder) {\n                    shipment_ids_for_ship_now.push(matchedOrder._id);\n                    console.log(&#x27;Shipment Found for order id Created Tab:&#x27;, orderId);\n                }\n            } else {\n                console.log(&#x27;Shipment not Found for order id Created Tab:&#x27;, orderId);\n            }\n        });\n    \n    } catch (error) {\n        console.error(&#x27;Error fetching data or comparing orders:&#x27;, error);\n    }&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5ffc2698-b85e-471b-852b-3151751a9a73&quot;,&quot;parentUUID&quot;:&quot;31598a28-82dc-4493-ac94-f75f4922fcee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should store the wallet balance before ship now&quot;,&quot;fullTitle&quot;:&quot;Create Order API should store the wallet balance before ship now&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:66,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const headers = { &#x27;Authorization&#x27;: `Bearer ${logintoken}` };\n\ntry {\n    const response = await getWalletBalance(&#x27;/payments/get_wallet_balance&#x27;, headers);\n  \n    wallet_balance = response.data.amount;\n    console.log(wallet_balance);\n} catch (error) {\n    console.error(&#x27;Error fetching wallet balance:&#x27;, error.response ? error.response.data : error.message);\n    throw error;\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5dd769b6-da3e-4ef1-bf7a-8a7a29a9f562&quot;,&quot;parentUUID&quot;:&quot;31598a28-82dc-4493-ac94-f75f4922fcee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should ship shipments in bulk&quot;,&quot;fullTitle&quot;:&quot;Create Order API should ship shipments in bulk&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:111,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const payload = {\&quot;shipment_id\&quot;:shipment_ids_for_ship_now,\&quot;process_all_shipments\&quot;:false,\&quot;active_tab\&quot;:\&quot;\&quot;,\&quot;date_filter\&quot;:\&quot;2024-07-28_2024-10-28\&quot;,\&quot;order_id\&quot;:\&quot;\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;email\&quot;:\&quot;\&quot;,\&quot;phone\&quot;:\&quot;\&quot;,\&quot;payment\&quot;:\&quot;\&quot;,\&quot;awb_number\&quot;:\&quot;\&quot;,\&quot;courier\&quot;:\&quot;\&quot;,\&quot;status\&quot;:\&quot;\&quot;,\&quot;channel\&quot;:\&quot;\&quot;,\&quot;pickup_ids\&quot;:null}\n      try {\n        const response = await axios.post(&#x27;https://uatapi.rapidshyp.com/session/sellers/shipper/bulk_shipment_courier_allocation&#x27;, payload, {\n          headers: {\n            &#x27;Authorization&#x27;: `Bearer ${logintoken}`\n          },\n        });\n    \n        console.log(&#x27;Approval Response:&#x27;, response.data);\n     const shipment_count = shipment_ids_for_ship_now.length;\n     const msg = `${shipment_count} shipments are under process for courier assignment. Please check the status after some time.`;\n     const expectedAssertions = await getExpectedAssertionsInternalBulkActions(msg);\n      // Validate the response for the current payload and assertions\n      validateBulkOrderResponse(response.data, expectedAssertions);\n    } catch (error) {\n      console.error(`Error in payload`, error.response ? error.response.data : error.message);\n      if (error.response) {\n        expect.fail(`API request failed for payload with status: ${error.response.status}, data: ${JSON.stringify(error.response.data)}`);\n      } else {\n        expect.fail(`Unexpected error at payload: ${error.message}`);\n      }\n    }&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b7153280-dab7-4f7b-b23f-c0fc50fa0a34&quot;,&quot;parentUUID&quot;:&quot;31598a28-82dc-4493-ac94-f75f4922fcee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should validate the shipments details inside the assigned tab after bulk ship&quot;,&quot;fullTitle&quot;:&quot;Create Order API should validate the shipments details inside the assigned tab after bulk ship&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5397,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await delay(5000);\n\nconst url = `https://uatapi.rapidshyp.com/session/shipment/fetch_shipment?page_no=0&amp;shipment_order_status=ASSIGNED&amp;date_filter=2024-07-28_2024-10-28&amp;records_per_page=100&amp;sort_by_field=LUT&amp;sorting_order=DESCENDING`;\n  \nconst headers = {\n    &#x27;Authorization&#x27;: `Bearer ${logintoken}`,\n    &#x27;Content-Type&#x27;: &#x27;application/json&#x27;\n};\n  \ntry {\n  const apiShipments = await axios.get(url, { headers });\n  const arrRecords = apiShipments.data.records;\n    \n  const apiShipmentIds = new Set(arrRecords.map(apiOrder =&gt; apiOrder._id));\n    \n  shipment_ids_for_ship_now.forEach(shipmentId =&gt; {\n      if (apiShipmentIds.has(shipmentId)) {\n          console.log(&#x27;Shipment Matched Assigned Tab:&#x27;, shipmentId);\n      } else {\n          console.log(&#x27;Shipment not matched Assigned Tab:&#x27;, shipmentId);\n      }\n  });\n    \n    } catch (error) {\n  console.error(&#x27;Error fetching data or comparing orders:&#x27;, error);\n    }&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;34fdaf0c-967a-40bc-8b0e-20e1b11cc3d0&quot;,&quot;parentUUID&quot;:&quot;31598a28-82dc-4493-ac94-f75f4922fcee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should schedule pickup in bulk from assigned tab&quot;,&quot;fullTitle&quot;:&quot;Create Order API should schedule pickup in bulk from assigned tab&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:131,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const payload = {\&quot;shipment_id\&quot;:shipment_ids_for_ship_now,\&quot;action_type\&quot;:\&quot;SHIPMENT\&quot;,\&quot;process_all_shipments\&quot;:false,\&quot;active_tab\&quot;:\&quot;\&quot;,\&quot;date_filter\&quot;:\&quot;2024-07-28_2024-10-28\&quot;,\&quot;order_id\&quot;:\&quot;\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;email\&quot;:\&quot;\&quot;,\&quot;phone\&quot;:\&quot;\&quot;,\&quot;payment\&quot;:\&quot;\&quot;,\&quot;awb_number\&quot;:\&quot;\&quot;,\&quot;courier\&quot;:\&quot;\&quot;,\&quot;status\&quot;:\&quot;\&quot;,\&quot;channel\&quot;:\&quot;\&quot;,\&quot;pickup_ids\&quot;:null}\ntry {\n  const response = await axios.post(&#x27;https://uatapi.rapidshyp.com/session/orders/schedule_pickup&#x27;, payload, {\n    headers: {\n      &#x27;Authorization&#x27;: `Bearer ${logintoken}`\n    },\n  });\n\n     const msg = `The schedule pickup is currently in progress...`;\n     const expectedAssertions = await getExpectedAssertionsInternalBulkActions(msg);\n// Validate the response for the current payload and assertions\nvalidateBulkOrderResponse(response.data, expectedAssertions);\n    } catch (error) {\nconsole.error(`Error in payload`, error.response ? error.response.data : error.message);\nif (error.response) {\n  expect.fail(`API request failed for payload with status: ${error.response.status}, data: ${JSON.stringify(error.response.data)}`);\n} else {\n  expect.fail(`Unexpected error at payload: ${error.message}`);\n}\n    }&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;573c675a-5618-4a0a-b6c3-351538d3f3ee&quot;,&quot;parentUUID&quot;:&quot;31598a28-82dc-4493-ac94-f75f4922fcee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should validate the shipments details inside the ready to ship tab after bulk pickup schedule&quot;,&quot;fullTitle&quot;:&quot;Create Order API should validate the shipments details inside the ready to ship tab after bulk pickup schedule&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5445,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await delay(5000);\n\nconst url = `https://uatapi.rapidshyp.com/session/shipment/fetch_shipment?page_no=0&amp;shipment_order_status=READY_TO_SHIP&amp;date_filter=2024-07-28_2024-10-28&amp;records_per_page=100&amp;sort_by_field=LUT&amp;sorting_order=DESCENDING`;\n  \nconst headers = {\n    &#x27;Authorization&#x27;: `Bearer ${logintoken}`,\n    &#x27;Content-Type&#x27;: &#x27;application/json&#x27;\n};\n  \ntry {\n  const apiShipments = await axios.get(url, { headers });\n  const arrRecords = apiShipments.data.records;\n    \n  const apiShipmentIds = new Set(arrRecords.map(apiOrder =&gt; apiOrder._id));\n    \n  shipment_ids_for_ship_now.forEach(shipmentId =&gt; {\n      if (apiShipmentIds.has(shipmentId)) {\n          console.log(&#x27;Shipment Matched Ready To Ship Tab:&#x27;, shipmentId);\n      } else {\n          console.log(&#x27;Shipment not matched Ready To Ship Tab:&#x27;, shipmentId);\n      }\n  });\n    \n    } catch (error) {\n  console.error(&#x27;Error fetching data or comparing orders:&#x27;, error);\n    }&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;50589b48-0487-419a-bb06-6f04b42946eb&quot;,&quot;parentUUID&quot;:&quot;31598a28-82dc-4493-ac94-f75f4922fcee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should manifest in bulk from ready to ship tab&quot;,&quot;fullTitle&quot;:&quot;Create Order API should manifest in bulk from ready to ship tab&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:133,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const payload = {\&quot;shipment_id\&quot;:shipment_ids_for_ship_now,\&quot;action_type\&quot;:\&quot;SHIPMENT\&quot;,\&quot;process_all_shipments\&quot;:false,\&quot;active_tab\&quot;:\&quot;\&quot;,\&quot;date_filter\&quot;:\&quot;2024-07-28_2024-10-28\&quot;,\&quot;order_id\&quot;:\&quot;\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;email\&quot;:\&quot;\&quot;,\&quot;phone\&quot;:\&quot;\&quot;,\&quot;payment\&quot;:\&quot;\&quot;,\&quot;awb_number\&quot;:\&quot;\&quot;,\&quot;courier\&quot;:\&quot;\&quot;,\&quot;status\&quot;:\&quot;\&quot;,\&quot;channel\&quot;:\&quot;\&quot;,\&quot;pickup_ids\&quot;:null}\ntry {\n  const response = await axios.post(&#x27;https://uatapi.rapidshyp.com/session/orders/create_manifest&#x27;, payload, {\n    headers: {\n      &#x27;Authorization&#x27;: `Bearer ${logintoken}`\n    },\n  });\n\n     const msg = `The schedule pickup is currently in progress...`;\n     const expectedAssertions = await getExpectedAssertionsInternalBulkActions(msg);\n// Validate the response for the current payload and assertions\nvalidateBulkOrderResponse(response.data, expectedAssertions);\n    } catch (error) {\nconsole.error(`Error in payload`, error.response ? error.response.data : error.message);\nif (error.response) {\n  expect.fail(`API request failed for payload with status: ${error.response.status}, data: ${JSON.stringify(error.response.data)}`);\n} else {\n  expect.fail(`Unexpected error at payload: ${error.message}`);\n}\n    }&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b5b637d9-ca93-48c5-a10d-b903068feaca&quot;,&quot;parentUUID&quot;:&quot;31598a28-82dc-4493-ac94-f75f4922fcee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should validate the status of shipments after manifest in bulk&quot;,&quot;fullTitle&quot;:&quot;Create Order API should validate the status of shipments after manifest in bulk&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5994,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;await delay(5000);\n\nconst url = `https://uatapi.rapidshyp.com/session/shipment/fetch_shipment?page_no=0&amp;shipment_order_status=READY_TO_SHIP&amp;date_filter=2024-07-28_2024-10-28&amp;records_per_page=100&amp;sort_by_field=LUT&amp;sorting_order=DESCENDING`;\n  \nconst headers = {\n    &#x27;Authorization&#x27;: `Bearer ${logintoken}`,\n    &#x27;Content-Type&#x27;: &#x27;application/json&#x27;\n};\n  \ntry {\n  const apiShipments = await axios.get(url, { headers });\n  const arrRecords = apiShipments.data.records;\n    \n  const manifestedShipments = new Set(\n      arrRecords\n          .filter(apiOrder =&gt; apiOrder.shipment_order_status === \&quot;MANIFESTED\&quot;)\n          .map(apiOrder =&gt; apiOrder._id)\n  );\n  console.log(\&quot;manifestedShipments\&quot;,manifestedShipments);\n  shipment_ids_for_ship_now.forEach(shipmentId =&gt; {\n      if (manifestedShipments.has(shipmentId)) {\n          console.log(&#x27;Shipment Matched with manifested status Ready To Ship Tab:&#x27;, shipmentId);\n      } else {\n          console.log(&#x27;Shipment not matched with manifested status Ready To Ship Tab:&#x27;, shipmentId);\n      }\n  });\n    \n    } catch (error) {\n  console.error(&#x27;Error fetching data or comparing shipments:&#x27;, error);\n    }&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e50a7a10-1b99-4d5d-914c-7860f2931dae&quot;,&quot;parentUUID&quot;:&quot;31598a28-82dc-4493-ac94-f75f4922fcee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should de-allocate shipments after manifestation&quot;,&quot;fullTitle&quot;:&quot;Create Order API should de-allocate shipments after manifestation&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:139,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const payload = {\&quot;shipment_id\&quot;:shipment_ids_for_ship_now,\&quot;action_type\&quot;:\&quot;SHIPMENT\&quot;,\&quot;process_all_shipments\&quot;:false,\&quot;active_tab\&quot;:\&quot;\&quot;,\&quot;date_filter\&quot;:\&quot;2024-07-28_2024-10-28\&quot;,\&quot;order_id\&quot;:\&quot;\&quot;,\&quot;name\&quot;:\&quot;\&quot;,\&quot;email\&quot;:\&quot;\&quot;,\&quot;phone\&quot;:\&quot;\&quot;,\&quot;payment\&quot;:\&quot;\&quot;,\&quot;awb_number\&quot;:\&quot;\&quot;,\&quot;courier\&quot;:\&quot;\&quot;,\&quot;status\&quot;:\&quot;\&quot;,\&quot;channel\&quot;:\&quot;\&quot;,\&quot;pickup_ids\&quot;:null}\n      try {\n        const response = await axios.post(&#x27;https://uatapi.rapidshyp.com/session/sellers/shipper/bulk_shipment_courier_deallocation&#x27;, payload, {\n          headers: {\n            &#x27;Authorization&#x27;: `Bearer ${logintoken}`\n          },\n        });\n     const shipment_count = shipment_ids_for_ship_now.length;\n     const msg = `${shipment_count} shipments are under process for courier de-allocation. Please check the status after some time.`;\n     const expectedAssertions = await getExpectedAssertionsInternalBulkActions(msg);\n      // Validate the response for the current payload and assertions\n      validateBulkOrderResponse(response.data, expectedAssertions);\n    } catch (error) {\n      console.error(`Error in payload`, error.response ? error.response.data : error.message);\n      if (error.response) {\n        expect.fail(`API request failed for payload with status: ${error.response.status}, data: ${JSON.stringify(error.response.data)}`);\n      } else {\n        expect.fail(`Unexpected error at payload: ${error.message}`);\n      }\n    }&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2b081259-ee6f-4a5a-becc-f9b02fb0699c&quot;,&quot;parentUUID&quot;:&quot;31598a28-82dc-4493-ac94-f75f4922fcee&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;58474822-6af7-4b0a-9200-b0004c950559&quot;,&quot;433a19f2-dfa2-4ea7-bdd3-706935dc8827&quot;,&quot;bd0bbadd-034a-4384-8a8b-3c14c0817538&quot;,&quot;e8a5285e-f0c2-4604-a655-67469d81d4db&quot;,&quot;baab03ec-b750-4006-9f43-8ac4a6dfe0ad&quot;,&quot;5ffc2698-b85e-471b-852b-3151751a9a73&quot;,&quot;5dd769b6-da3e-4ef1-bf7a-8a7a29a9f562&quot;,&quot;b7153280-dab7-4f7b-b23f-c0fc50fa0a34&quot;,&quot;34fdaf0c-967a-40bc-8b0e-20e1b11cc3d0&quot;,&quot;573c675a-5618-4a0a-b6c3-351538d3f3ee&quot;,&quot;50589b48-0487-419a-bb06-6f04b42946eb&quot;,&quot;b5b637d9-ca93-48c5-a10d-b903068feaca&quot;,&quot;e50a7a10-1b99-4d5d-914c-7860f2931dae&quot;,&quot;2b081259-ee6f-4a5a-becc-f9b02fb0699c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:32299,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:100000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:100000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;10.7.3&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;mochawesome&quot;},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome&quot;,&quot;reportTitle&quot;:&quot;Api-Automation&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome\\assets&quot;,&quot;jsonFile&quot;:&quot;C:\\Users\\anmol.dhama\\Desktop\\Api-Automation\\mochawesome\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;C:\\Users\\anmol.dhama\\Desktop\\Api-Automation\\mochawesome\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>